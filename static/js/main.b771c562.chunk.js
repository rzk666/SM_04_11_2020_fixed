(this["webpackJsonpbeatem-demo-client"]=this["webpackJsonpbeatem-demo-client"]||[]).push([[0],{119:function(e,t,a){"use strict";(function(e){var a={getNodeEnv:function(){return Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_ENDPOINT:"static",REACT_APP_SERVER_HOST:"localhost:3000",REACT_APP_SERVER_PROTOCOL:"http"})},getNodeEnvByKey:function(e){if(!e)throw new Error("Key cannot be null/undefined");return Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_ENDPOINT:"static",REACT_APP_SERVER_HOST:"localhost:3000",REACT_APP_SERVER_PROTOCOL:"http"})[e]},getNodeEnvMode:function(){return a.getNodeEnvByKey("NODE_ENV")||"test"},isProduction:function(){return"production"===a.getNodeEnvMode()},isDevelopment:function(){return"development"===a.getNodeEnvMode()},isTest:function(){return!a.getNodeEnvMode()||"test"===a.getNodeEnvMode()},isServer:function(){return!e.browser}};t.a=a}).call(this,a(82))},131:function(e,t,a){e.exports=a(271)},20:function(e,t,a){e.exports={row_container:"UserRow_row_container__2T0kG",loading:"UserRow_loading__2RL5j",user:"UserRow_user__2eFnG",avatar:"UserRow_avatar__3YvVV",task:"UserRow_task__2d0ot",selected_container:"UserRow_selected_container__1HXhC"}},21:function(e,t,a){e.exports={table_container:"Table_table_container__1FGsZ",table_content:"Table_table_content__1w7mp",loading:"Table_loading__1ReMx",table_header:"Table_table_header__2o2Vp",employees:"Table_employees__1w1gM",days:"Table_days__36Wac",no_users:"Table_no_users__2vint"}},269:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),i=a(52),s=a(24),l=a(115),u=a(116),d={auth:{token:""},users:{isLoading:!1,hasError:!1,error:"",data:[]}},_=["Sales","Marketing","CC","Product","HR","R&D","Research"],E=a(29),m=a(1),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_IS_LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.isLoading});case"USERS_GET_DATA":var a=e.data,n=t.selected,r=t.data.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{selected:n})}));return Object(m.a)(Object(m.a)({},e),{},{data:[].concat(Object(E.a)(a),Object(E.a)(r)),hasError:!1,errorCode:-1});case"USER_GET_TASKS":var c=e.data,o=t.id,i=c.map((function(e){return e.id===o?Object(m.a)(Object(m.a)({},e),{},{selected:!0,task:t.data}):e}));return Object(m.a)(Object(m.a)({},e),{},{data:i,hasError:!1,errorCode:-1});case"USER_IS_LOADING":var s=e.data,l=t.id,u=t.isLoading,_=s.map((function(e){return e.id===l?Object(m.a)(Object(m.a)({},e),{},{isLoading:u}):e}));return Object(m.a)(Object(m.a)({},e),{},{data:_,hasError:!1,errorCode:-1});case"HIDE_USER_TASKS":var f=e.data,p=t.id,O=f.map((function(e){return e.id===p?Object(m.a)(Object(m.a)({},e),{},{selected:!1,task:{}}):e}));return Object(m.a)(Object(m.a)({},e),{},{data:O,hasError:!1,errorCode:-1});case"HIDE_UNSELECTED":var b=e.data,h=b.filter((function(e){return e.selected}));return Object(m.a)(Object(m.a)({},e),{},{data:h,hasError:!1,errorCode:-1});case"HIDE_DEPARTMENT":var v=e.data,g=t.id,y=Object(E.a)(v).filter((function(e){return e.department_id!==g}));return Object(m.a)(Object(m.a)({},e),{},{data:y,hasError:!1,errorCode:-1});case"USERS_HAS_ERROR":return t.data?Object(m.a)(Object(m.a)({},e),{},{hasError:!0,errorCode:"e".concat(t.data),isLoading:!1}):Object(m.a)(Object(m.a)({},e),{},{hasError:t.data,errorCode:-1,isLoading:!1});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.auth,t=arguments.length>1?arguments[1]:void 0;return t.type,e},O=Object(s.c)({users:f,auth:p}),b=a(71),h=a.n(b),v=a(117),g=a(118),y=a.n(g),S=function(e){var t=e?{headers:{Authorization:"Bearer ".concat(e)}}:{};return y.a.create(t)},T="API",R=function(){var e=Object(v.a)(h.a.mark((function e(t,a,n){var r,c,o,i,s,l,u,d,_,E,m,f,p,O,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,c=r.url,o=r.method,i=void 0===o?"get":o,s=r.data,l=void 0===s?{}:s,u=r.params,d=void 0===u?{}:u,_=r.success,E=r.failure,m=r.loader,f=c.base,p=c.endpoint,!m||a(m(!0)),O={method:i,url:f?f+p:p},Object.keys(l).length&&(O.data=l),Object.keys(d).length&&(O.params=d),e.prev=6,e.next=9,S(n)(O);case 9:b=e.sent,a(_(b.data)),!m||a(m(!1)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),a(E(e.t0.message||""));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),j=function(e){return function(t,a){return R(e,t,a().auth.token)}},D=function(e){var t=e.dispatch,a=e.getState;return function(e){return function(n){if(n.type!==T)return e(n);R(n,t,a().auth.token)}}},N=a(119),P=[l.a,D];N.a.isProduction()||P.push(u.logger);var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return Object(s.d)(O,e,s.a.apply(void 0,P))},A=a(128),C=a(3),k=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_ENDPOINT:"static",REACT_APP_SERVER_HOST:"localhost:3000",REACT_APP_SERVER_PROTOCOL:"http"}).PORT,"".concat("http","://").concat("localhost:3000","/").concat("static"),function(e){return{type:"USERS_IS_LOADING",isLoading:e}}),w=function(e,t){return{type:"USERS_GET_DATA",data:e,selected:t}},B=function(e){return{type:"USERS_HAS_ERROR",data:e}},I=a(129),L=function(e){var t=e.hideDepartment,a=e.fetchUsers,c=e.fetchUsersByDepartment,o=e.hideUnselectedUsers,i=e.hideUserTasks,s=e.fetchUserTasks,l=e.users.data,u=Object(n.useState)({selectedDepartments:[],filterByEmployee:!1}),d=Object(I.a)(u,2),_=d[0],f=d[1];Object(n.useEffect)((function(){if(_.filterByEmployee){if(10>l.length){var e={firstIndex:l.length,endIndex:10-l.length,orderBy:"department",withTasks:!1};a(Object(m.a)({},e))}}else o()}),[_.filterByEmployee]);var p={toggleDepartment:function(e){return function(e){var a=_.selectedDepartments;a.find((function(t){return t===e}))?(t(e),f(Object(m.a)(Object(m.a)({},_),{},{selectedDepartments:a.filter((function(t){return t!==e}))}))):(c(e),f(Object(m.a)(Object(m.a)({},_),{},{selectedDepartments:[].concat(Object(E.a)(a),[e])})))}(e)},toggleFilterByEmployee:function(){return function(){var e=_.filterByEmployee;f(Object(m.a)(Object(m.a)({},_),{},{filterByEmployee:!e}))}()},handleUserSelection:function(e,t){return function(e,t){e?i(t):s(t)}(e,t)}},O=e.View;return r.a.createElement(O,Object.assign({},e,_,p))},H=a(72),K=a.n(H),V=a(53),x=a.n(V),F=a(274),G=function(e){var t=e.toggleDepartment,a=e.toggleFilterByEmployee,n=e.filterByEmployee;return r.a.createElement("div",{className:x.a.filters_container},r.a.createElement("div",{className:x.a.filter_by_employee},r.a.createElement("p",null," Filter By Employee "),r.a.createElement(F.a,{onClick:function(){return a()},toggle:!0,checked:n})),r.a.createElement("div",{className:x.a.departments},_.map((function(e,a){return r.a.createElement(F.a,{onClick:function(){return t(a+1)},label:e})}))))},M=a(28),W=a(20),J=a.n(W),Z=a(18),q=a.n(Z),z=function(e){var t=e.avatar,a=e.name;return r.a.createElement("div",{className:J.a.user},r.a.createElement("img",{alt:"".concat(a,"_avatar"),className:J.a.avatar,src:t}),r.a.createElement("p",null,a))},X=function(e){var t=e.task;if(!Object.keys(t).length)return r.a.createElement(r.a.Fragment,null);var a=t.id,n=t.title,c=t.color;return r.a.createElement("div",{style:{backgroundColor:a?c:"black"},className:J.a.task},a?n:"?")},Y=function(e){var t=e.selected,a=e.toggleSelection;return r.a.createElement("div",{className:J.a.selected_container},r.a.createElement(F.a,{onClick:function(){return a()},checked:t,className:J.a.selected_box}))},Q=function(e){var t=e.user,a=e.filterByEmployee,n=e.handleUserSelection,c=t.task,o=t.name,i=t.avatar,s=t.selected,l=t.id,u=t.isLoading;return r.a.createElement("div",{className:q()(J.a.row_container,Object(M.a)({},J.a.loading,u))},a&&r.a.createElement(Y,{toggleSelection:function(){return n(s,l)},selected:s}),r.a.createElement(z,{avatar:i,name:o}),r.a.createElement(X,{task:c}))},$=a(21),ee=a.n($),te=function(){return r.a.createElement("div",{className:ee.a.table_header},r.a.createElement("div",{className:ee.a.employees},"Employees"),r.a.createElement("div",{className:ee.a.days},(new Date).toDateString()))},ae=function(e){var t=e.users,a=e.filterByEmployee,n=e.handleUserSelection,c=t.data,o=t.isLoading;return r.a.createElement("div",{className:ee.a.table_container},r.a.createElement(te,null),c.length?r.a.createElement("div",{className:q()(ee.a.table_content,Object(M.a)({},ee.a.loading,o))},c.map((function(e){return r.a.createElement(Q,{handleUserSelection:n,filterByEmployee:a,user:e})}))):r.a.createElement("div",{className:ee.a.no_users}," No users selected "))},ne=function(e){var t=e.users,a=e.toggleDepartment,n=e.toggleFilterByEmployee,c=e.filterByEmployee,o=e.handleUserSelection;return r.a.createElement("div",{className:K.a.wrapper},r.a.createElement("div",{className:K.a.tasks_manager_container},r.a.createElement(G,{toggleFilterByEmployee:n,filterByEmployee:c,toggleDepartment:a}),r.a.createElement(ae,{handleUserSelection:o,filterByEmployee:c,users:t})))},re=Object(i.b)((function(e){return{users:e.users}}),(function(e){return{fetchUsers:function(t,a,n,r){return e(function(){return j({type:T,payload:{url:{base:"https://testsh.free.beeceptor.com/getusers",endpoint:""},method:"get",success:function(e){return w(e,!1)},failure:function(e){return B(e)},loader:function(e){return k(e)}}})}(t,a,n,r))},fetchUsersByDepartment:function(t,a,n,r){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return j({type:T,payload:{url:{base:"https://testsh.free.beeceptor.com/users/department/".concat(e),endpoint:""},method:"get",success:function(e){return w(e,!0)},failure:function(e){return B(e)},loader:function(e){return k(e)}}})}(t,a,n,r))},hideDepartment:function(t){return e(function(e){return{type:"HIDE_DEPARTMENT",id:e}}(t))},hideUnselectedUsers:function(){return e({type:"HIDE_UNSELECTED"})},fetchUserTasks:function(t){return e(function(e){return j({type:T,payload:{url:{base:"https://testsh.free.beeceptor.com/gettask",endpoint:""},method:"get",success:function(t){return function(e,t){return{type:"USER_GET_TASKS",data:t,id:e}}(e,t)},failure:function(e){return B(e)},loader:function(t){return function(e,t){return{type:"USER_IS_LOADING",isLoading:t,id:e}}(e,t)}}})}(t))},hideUserTasks:function(t){return e(function(e){return{type:"HIDE_USER_TASKS",id:e}}(t))}}}))((function(e){return r.a.createElement(L,Object.assign({},e,{View:ne}))})),ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(re,Object.assign({},e,{page:"home"}))}}))))};a(269),a(270);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:U()},r.a.createElement(ce,null))),document.getElementById("root"))},53:function(e,t,a){e.exports={filters_container:"Filters_filters_container__3gymB",filter_by_employee:"Filters_filter_by_employee__33KqP",departments:"Filters_departments__1HrZ9"}},72:function(e,t,a){e.exports={wrapper:"HomeView_wrapper__2df22",tasks_manager_container:"HomeView_tasks_manager_container__3_6Wt"}}},[[131,1,2]]]);
//# sourceMappingURL=main.b771c562.chunk.js.map